var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a,b,c){function d(){var a=new UAParser,c=a.getBrowser(),d=c.name.toLowerCase(),e=a.getOS(),f=b("html");b.extend(k.browser,c),b.extend(k.os,e),"ie"===d&&(f.addClass("msie"),f.addClass("msie-"+c.major)),"edge"===d&&f.addClass("msEdge"),"facebook"===d&&f.addClass("fbav")}function e(a){var c=a.attr("href")||a.data("scrollto"),d=a.data("scrolldelay")||0,e=b(".twm-gh").height(),f=a.data("scrolloffset")||-e;setTimeout(function(){b("body").scrollTo(b(c),800,{offset:f})},d)}function f(a,c,d){-15>c?b(a.wrapper).addClass("shadow-left"):b(a.wrapper).removeClass("shadow-left"),c>d?b(a.wrapper).addClass("shadow-right"):b(a.wrapper).removeClass("shadow-right")}function g(a,b){return a<b?b:-40<a?a:a+40}function h(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}function i(a,d){var e=null;0===b(".twm-page-section-nav-product-type").length||b("html").hasClass("twm-only-lg")||c.forEach(b(".twm-page-section-nav-product-type"),function(c){var i=void 0,k=h(5);b(c).attr("data-scrollid",k);var l="[data-scrollid=\""+k+"\"] .twm-ps-products-menu-block",m="active";if(b("twm-ps-products-menu-block")){var n=b(l).width(),p=b(l).find(".twm-ps-products-menu").width(),q=n-p,r=void 0;if(b(l).find(".twm-ps-products-menu").hasClass("nav-tabs"))r=b(l).find("a."+m).parent().offset().left;else if("assign"===a)r=d;else{var s=b(l).find("li."+m),t=b(l).find("li a."+m).parent(),u=0<s.length?s:t;null!=u.position()&&(r=u.position().left),null!==e&&(r+=-e)}i=new IScroll(l,{probeType:j(),mouseWheel:!1,scrollX:!0,scrollY:!0,disablePointer:!0,disableTouch:!1,disableMouse:!1,resizePolling:1e3,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|A)$/},tap:"pmbTapEvent"});var v=g(-r,q);i.scrollTo(v,0,300),setTimeout(function(){f(i,-r,q)},400),i.on("scroll",function(){f(this,this.x,q)}),i.on("scrollEnd",function(){f(this,this.x,q)}),o[k]=i}})}function j(){return"android"===k.browser.name.toLowerCase()?1:2}var k={os:{},browser:{}},l=null,m=[],n=null,o={},p=null,q=!1,r=!1;b.validator.addMethod("identityCheck",function(a){if(""!==a){var b,c,d,e=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","X","Y","W","Z","I","O"],f=[1,9,8,7,6,5,4,3,2,1],g=[,,],h=0,k=/^[A-Z](1|2)\d{8}$/i,l=/^[A-Z]\d{8}$/i;if(-1===a.search(k)){if(-1===a.search(l))return!1;a="ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(a.substring(0,1))+10+""+("ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(a.substr(1,1))+10)%10+""+a.substr(2,8);var m=parseInt(a.substr(0,1))+9*parseInt(a.substr(1,1))+8*parseInt(a.substr(2,1))+7*parseInt(a.substr(3,1))+6*parseInt(a.substr(4,1))+5*parseInt(a.substr(5,1))+4*parseInt(a.substr(6,1))+3*parseInt(a.substr(7,1))+2*parseInt(a.substr(8,1))+parseInt(a.substr(9,1)),n=parseInt(a.substr(10,1));return 10-m%10===n}b=a.charAt(0),d=a.charAt(9);for(var o=0;26>o;o++)if(b===e[o]){c=o+10,g[0]=Math.floor(c/10),g[1]=c-10*g[0];break}for(var p=0;p<f.length;p++)h+=2>p?g[p]*f[p]:parseInt(a.charAt(p-1))*f[p];return 10-h%10===parseInt(d)}},"\u683C\u5F0F\u932F\u8AA4\uFF01\u8ACB\u6AA2\u67E5\u4E26\u91CD\u65B0\u8F38\u5165\uFF01"),b.validator.addMethod("selectValueNotDefault",function(a,b,c){return"object"===("undefined"==typeof c?"undefined":_typeof(c))?!(-1<c.indexOf(a)):c!==a},"Value must not equal arg."),b.validator.addMethod("twMobilePhoneNumber",function(a){return null!==/^[09]{2}[0-9]{8}$/.exec(a)},"Please enter the correct phone number."),b.validator.addMethod("xor",function(a,c,d){for(var e,f=!1,g=0;g<d.length;++g){for(var h in e=!0,d[g]){var j=b.validator.methods[h].call(this,a,c,d[g][h]);if(!j){e=!1;break}}if(!0==e){f=!0;break}}return this.optional(c)||f},"The value entered is invalid."),b.validator.addMethod("creditCardNumber",function(a,c,d){if(!0===d){console.log("value: "+a),console.log("element: "+c),console.log("arg: "+d);var e=b.payform.validateCardNumber(a);return console.log(e),e}return!0},"Please enter the correct credit card number."),b.validator.addMethod("creditCardExpiry",function(a,c,d){if(!0===d){console.log("value: "+a),console.log("element: "+c),console.log("arg: "+d);var e=b.payform.parseCardExpiry(a),f=b.payform.validateCardExpiry(e);return console.log(e),console.log(f),f}return!0},"Please enter the correct credit card expiration date."),b.validator.addMethod("creditCardCVC",function(a,c,d){var e=b.payform.validateCardCVC(a,d);return e},"Please enter the correct credit card CVC."),a.initialSpotlightCarousel=function(){var c=b(".twm-carousel-page_spotlight");c.owlCarousel({items:1,loop:!0,nav:!0,navText:["<span class=\"owl-nav-icon owl-nav-icon-prev\"></span>","<span class=\"owl-nav-icon owl-nav-icon-next\"></span>"],smartSpeed:800,autoHeight:!0,autoHeightClass:"owl-height",autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:800,autoplayHoverPause:!0,responsive:{768:{mouseDrag:!1}},onInitialized:function(a){TWMMain.createPagination(this,a.page)},onTranslated:function(a){TWMMain.updateTemplate(this,a.page)}}),a.TWM_CAROUSEL_PAGE_SPOTLIGHT=c},a.initialPageTopBanner=function(b){var c=b||".swiper-banner";null===document.querySelector(c)||new Swiper(c,{speed:500,spaceBetween:0,loop:!0,effect:"fade",autoplay:{delay:5e3},autoHeight:!0,pagination:{el:".swiper-banner-pagination",type:"custom",renderCustom:function(a,b,c){return"<span class=\"current\">"+b+"</span><span class=\"slash\">/</span><span class=\"total\">"+c+"</span>"}},navigation:{prevEl:".swiper-banner-button-prev",nextEl:".swiper-banner-button-next"},on:{init:function(){console.log("swiper initialized"),console.log(this);a.GreenSockGlobals&&TweenMax.fromTo(this.$el,.5,{autoAlpha:0,y:50},{autoAlpha:1,y:0})}}})},a.initialOffersBanner=function(b){var c=b||".swiper-offers";null===document.querySelector(c)||new Swiper(c,{slidesPerView:2,spaceBetween:30,breakpoints:{768:{slidesPerView:1,spaceBetween:0}},speed:500,loop:!0,autoplay:{delay:5e3},autoHeight:!0,pagination:{el:".swiper-offers-pagination"},navigation:{prevEl:".swiper-offers-button-prev",nextEl:".swiper-offers-button-next"},on:{init:function(){a.GreenSockGlobals&&TweenMax.fromTo(this.$el,.5,{autoAlpha:0,y:50},{autoAlpha:1,y:0})}}})},a.TWMMain=function(){},b.extend(TWMMain,{toggleAjaxLoading:function(a){null!==a&&!0===a?(b("html").addClass("fancybox-enabled"),b("html").addClass("showLoading")):null!==a&&!1===a?(b("html").removeClass("fancybox-enabled"),b("html").removeClass("showLoading")):(b("html").toggleClass("fancybox-enabled"),b("html").toggleClass("showLoading")),b("html").hasClass("showLoading")?TWMMain.toggleAjaxLoadingDom(!0):TWMMain.toggleAjaxLoadingDom(!1)},toggleAjaxLoadingDom:function(a){!0===a?b("body").append("<div id=\"twm-ajax-loading\" class=\"twm-ajax-loading fancybox-container fancybox-is-open\"><div class=\"fancybox-bg\"></div><div class=\"fancybox-loading\"></div></div>"):b("#twm-ajax-loading").remove()},fomatePricing:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},paginationTemplate:function(a,b){return"\n        <div class=\"owl-pagination\">\n          <span class=\"current\">"+a+"</span>/<span class=\"total\">"+b+"</span>\n        </div>\n      "},createPagination:function(a){var c=a.options.startPosition+1,d=a._items.length,e=TWMMain.paginationTemplate(c,d);a.$element.append(b(e))},updateTemplate:function(a,b){console.log(b);var c=b.index+1,d=b.count?b.count:null;null!==c&&a.$element.find(".owl-pagination .current").text(c),null!==d&&a.$element.find(".owl-pagination .total").text(d)}}),b(document).on("click.twm.extend-block","[data-toggle=\"twm-extend-block\"]",function(a){a.preventDefault();var c={SHOW:"show",OPEN:"open",HIDE:"hide"},d=b(this),e=d[0].href.replace(/.*(?=#[^\s]+$)/,""),f="true"===d.attr("aria-expanded"),g="true"===d.attr("aria-overlay");b("html").toggleClass(c.SHOW+"-"+e.replace(/#/,"")),!1===f?(b(e).addClass(c.SHOW),!0===g&&(b(e).parent().append(b("<div/>",{id:"overlay",class:"twm-eb-overlay",attr:{"data-target":e}})),b("#overlay").on("click",function(){var a=b(this),d=a.data("target");console.log(d),b("[href=\"target\"]").attr("aria-expanded",!f),b("html").toggleClass(c.SHOW+"-"+d.replace(/#/,"")),b(d).removeClass(c.SHOW),a.remove(),b("#overlay").off("click")}))):!0===f&&(b(e).removeClass(c.SHOW),b("#overlay").remove()),b("[href=\"target\"]").attr("aria-expanded",!f)}),b(document).ready(function(){d(),768>b(a).width()&&i();var f=b(".twm-ps-products-nav");if(c.forEach(f,function(d){b(d).not(".has-third-menu").on("shown.bs.dropdown",function(){console.log("not has third menu beofore destroy!"),c.forEach(o,function(a,c){o[c].destroy(),o[c]=null,b("[data-scrollid=\""+c+"\"]").removeAttr("data-scrollid"),delete o[c]}),b(".twm-ps-products-menu-block").removeClass("shadow-left").removeClass("shadow-right")}),b(d).not(".has-third-menu").on("hide.bs.dropdown",function(){}),b(d).not(".has-third-menu").on("hidden.bs.dropdown",function(){console.log("not has third menu beofore refresh!"),console.log(b(this).data("preposx")),i("assign",b(this).data("preposx")||0)}),b(d).find(".has-third-menu").on("shown.bs.dropdown",function(){console.log("has third menu shown!");var d=b(this),e=d.find(".dropdown-menu"),f=b(a).width(),g=0;c.forEach(o,function(a){g=0<b(a.wrapper).find(d).length?a.x:0}),console.log(g),768>=f&&e.css({left:-1*g+"px"})}),b(d).find(".has-third-menu").on("hide.bs.dropdown",function(){console.log("has third menu hide!");var c=b(this),d=c.find(".dropdown-menu");768>=b(a).width()&&d.css({left:"auto"})})}),0<b(".tabPages-nav").length){var g=url("?tabPage")||"default";b(".tabPages-nav a[data-toggle=\"tab\"]").on("hide.bs.tab",function(a){var c=b(a.relatedTarget).attr("href");b("[href=\""+c+"_content\"]").trigger("click")}),b(".tabPages-nav a[data-toggle=\"tab\"]").on("hidden.bs.tab",function(){null!==p&&p.destroy(),setTimeout(function(){i()},300)}),b(".tabPages-nav a[data-toggle=\"tab\"]").on("shown.bs.tab",function(){var a=b(".tabPages-anchor-nav"),c=a.find(".active"),d=-b(".twm-page-section-nav").height();c.find(".nav-link").first().addClass("active"),b("body").scrollTo(b(".tabPages-content"),800,{offset:d})}),"default"!==g&&(b("[href=\"#"+g+"\"]").trigger("click"),b("[href=\""+g+"_content\"]").trigger("click"))}b("[data-scrollto]").on("click",function(a){a.preventDefault(),e(b(this))})})})(window,$,_);