var backFunction1=function(e){return e},backFunction4=function(e){return e},backFunction5=function(e){return e},header=new Vue({name:"v2Header",el:"#temRenderHeaderVersionRoot",mixins:[vuePublicMixin],data:function(){return {moSiteMap: !1,}},watch:{deviceInfo:{handler:function(e){const t=document.querySelector("body");e&&Object.keys(e).forEach(function(n){e[n]&&!t.classList.contains("-"+e[n])&&t.classList.add("-"+e[n])})},deep:!0,immediate:!0},systemInfo:{handler:function(e){e?$(".twm-page-content").removeClass("-no-system"):$(".twm-page-content").addClass("-no-system")},immediate:!0},headerVersion:{handler:function(e){this.headVersionChangeHandler(e)}}},mounted:function(){$("body").addClass("header-loading"),"boolean"==typeof isLogin&&(this.isLogin=isLogin),"boolean"==typeof isMember&&(this.isMemberShow=isMember),document.body.onkeydown=this.keyDown,this.IeVersion(),this.headVersionChangeHandler(this.headerVersion);$(window).on("resize",this.v2_setFloatMenuStatus),$(window).on("resize",this.v2_setSitemapMenuGroupChildrenSize),$(window).on("resize",this.v2_setSitemapMenuChildSubSize),$(window).on("scroll", this.v2_setHeaderScroll)},methods:{keyDown:function(e){"Escape"===e.code&&this.closeAll()},activeCustomerService:function(){this.customerService=!0},activeCustomerServicePopup:function(){this.customerServicePopup=!0},activeABCheck:function(){this.is_ab_check=!0},activeCDCheck:function(){this.is_cd_check=!0},neverShowCustomerService:function(){"function"==typeof neverShowCustomerService&&neverShowCustomerService()},closeCustomerServicePopup:function(){this.customerServicePopup=!1},headVersionChangeHandler:function(e){1===e?this.v1MenuFetch().promise():this.v2MenuFetch().promise()},v1MenuFetch:function(){var e=this,t="/bp-include/Y22/json-api/";return{promise:function(){Promise.all([this.ajax(t+"tab-customer-service.jsonp",1),this.ajax(t+"tab-online-store.jsonp",2),this.ajax(t+"tab-telecom-charge.jsonp",3),this.ajax("/cs/public/myEcrm.htm",4),this.ajax(t+"system-bulletin.jsonp",5),this.ajax(t+"tab-new-entrance.jsonp",6)]).then(function(t){e.headerData.tabData.customerService=t[0],e.headerData.tabData.tabOnlineStore=t[1],e.headerData.tabData.telecomCharge=t[2],e.headerData.tabData.newEntrance=t[5],e.headerData.customerCrm=t[3],e.headerData.systemBulletin=t[4],e.headerData.done=!0,e.syncV1HeaderDataToV2Data(),"string"!=typeof pageType&&e.$nextTick(function(){$("body").addClass("header-loading-done"),setTimeout(function(){$("body").addClass("remove-loading")},2e3)})})},ajax:function(e,t){return new Promise(function(n,i){$.ajax({type:"GET",dataType:"jsonp",url:e,async:!1,jsonp:!1,jsonpCallback:"backFunction"+t,success:function(e,t,i){n(e||null)},error:function(e,t,i){n(null)}})})}}},v2MenuFetch:function(){var e=this;return{promise:function(){if(typeof(personalCode)=="undefined"){personalCode="";}Promise.all([this.ajax("/cs/public/api/myAccount/getHeaderMenuData.htm?personalCode="+personalCode, 1, "allTabs"), this.ajax("/cs/public/myEcrm.htm", 4, "customerCrm"), this.ajax("/bp-include/Y22/json-api/system-bulletin.jsonp", 5, "systemBulletin")]).then(function(t){e.headerData.done=!0,e.syncV2HeaderDataToV1Data(),e.$nextTick(function(){e.v2_setHeaderMainTabsSwiper(),e.v2_setSitemapMenuGroupChildrenSize(),e.v2_setSitemapMenuChildSubSize()}),"string"!=typeof pageType&&e.$nextTick(function(){$("body").addClass("header-loading-done"),setTimeout(function(){$("body").addClass("remove-loading")},2e3)})})},ajax:function(t,n,i){return new Promise(function(a,s){$.ajax({type:"GET",dataType:"jsonp",url:t,async:!0,jsonp:!1,jsonpCallback:"backFunction"+n,success:function(t,n,s){t?(e.headerData[i]=t,a(t)):a(null)},error:function(e,t,n){a(null)}})})}}},syncV1HeaderDataToV2Data:function(){const e=this;Object.keys(e.headerData.tabData).forEach(function(t){const n=Object.assign({},e.headerData.tabData[t]);n["//"]=!0,n.key=t,e.headerData.allTabs.push(n)}),delete e.headerData.tabData.disneyPlus},syncV2HeaderDataToV1Data:function(){const e=this;e.headerData.allTabs.forEach(function(t){e.headerData.tabData[t.key]=t})},IeVersion:function(){var e=navigator.userAgent;if(window.ActiveXObject||"ActiveXObject"in window){this.oldIE=!0}},closeAlert:function(){this.oldIE=!1},activeSystemInfo:function(){this.systemInfo=!0},closeSystemInfo:function(){this.systemInfo=!1},menuTabFunction:function(){var e=this;return{toggleTab:function(t){!1===e.isTab||e.isTab!==t?this.openTab(t):this.closeTab(t)},closeTab:function(){e.isTab=!1,bodyScrollLock.clearAllBodyScrollLocks()},openTab:function(t){e.isTab=t,e.$nextTick(function(){bodyScrollLock.disableBodyScroll()})}}},objectFunction:function(){var e=this;return{toggleObject:function(t){!1===e[t]?this.openObject(t):this.closeObject(t),"isMenu"===t&&e.$nextTick(function(){var e=window.innerHeight;$(".menu").height(e),$(window).resize(function(){var e=window.innerHeight;$(".menu").height(e)})})},closeObject:function(t){e[t]=!1,bodyScrollLock.clearAllBodyScrollLocks()},openObject:function(t){e[t]=!0,bodyScrollLock.disableBodyScroll(document.getElementById("sitemap-main-scroll"))}}},toggleMenuService:function(e,t,n){const i=this,a=$(e.currentTarget).parents(".js-v2-sitemap-menu-group").find(".js-v2-sitemap-menu-child");"personalService"===t?(this.header.personalService.isOpen=!this.header.personalService.isOpen,Object.keys(this.headerData.allTabs).map(function(e,n){e!==t&&(i.headerData.allTabs[e].isOpen=!1)})):n&&(!0===n[t].isOpen?n[t].isOpen=!1:(Object.keys(n).map(function(e,i){e!==t&&(n[e].isOpen=!1)}),this.header.personalService.isOpen=!1,n[t].isOpen=!0)),this.v2_changeSitemapMenuGroupChildSwitch(a)},v1_toggleMenuService:function(e,t){var n=document.getElementById(e);if(!0===t[e].isOpen)t[e].isOpen=!1,n.style.cssText="";else{Object.keys(t).map(function(n,i){n!==e&&(t[n].isOpen=!1,document.getElementById(n).style.cssText="")}),t[e].isOpen=!0;var i=$(".inner-"+e).height();n.style.cssText="height:"+i+"px !important"}},closeXsMenu:function(e){this.slideToChild(e,null)},scrollBarTrigger:function(){},v2_setHeaderMainTabsSwiper:function(){const e=this;this.mainTabs={},this.mainTabs.swiper={},this.mainTabs.swiper=new Swiper("#v2-header-main .swiper-container",{slidesPerView:"auto",spaceBetween:8,autoplay:!1,simulateTouch:!0,grabCursor:!0,allowTouchMove:!0,loop:!1,speed:500,navigation:{nextEl:"#v2-header-main .swiper-navigation .-next",prevEl:"#v2-header-main .swiper-navigation .-prev",disabledClass:"-disabled"}}),this.$nextTick(function(){e.mainTabs.swiper.update()})},v2_setHeaderPersonalServiceMenuData:function(e){this.header.personalService.tab=e||[];const t=this;this.$nextTick(function(){t.v2_setSitemapMenuChildSubSize(),setTimeout(t.v2_setSitemapMenuGroupChildrenSize,300)})},v2_setHeaderPersonalServiceAdBannerData:function(e){this.header.personalService.adbanner=e||[]},v2_clickSitemapMenuChildSwitch:function(e){const t=$(".js-v2-sitemap-menu-child-switch"),n=$(e.currentTarget).parents(".js-v2-sitemap-menu-child"),padMenu=$('#sitemap-main-scroll');n.hasClass("-active")||(t.parents(".js-v2-sitemap-menu-child").removeClass("-active"),n.addClass("-active")),n.hasClass("-mb-active")?(n.removeClass("-mb-active")):(t.parents(".js-v2-sitemap-menu-child").removeClass("-mb-active"),n.addClass("-mb-active"),padMenu.addClass('open'));this.v2_setSitemapMenuChildSubSize(),setTimeout(this.v2_setSitemapMenuGroupChildrenSize,300)},v2_changeSitemapMenuGroupChildSwitch:function(e){if(e){$(".js-v2-sitemap-menu-child-switch"),$(e).eq(0)}this.v2_setSitemapMenuChildSubSize(),setTimeout(this.v2_setSitemapMenuGroupChildrenSize,300)},v2_setSitemapMenuGroupChildrenSize:function(){$(".js-v2-sitemap-menu-children").each(function(e,t){const n=$(t),i=n.height();n.parents(".js-v2-sitemap-menu-group-children").css("max-height",i+"px")})},v2_setSitemapMenuChildSubSize:function(){$(".js-v2-sitemap-menu-sub").each(function(e,t){const n=$(t),i=n.outerHeight();n.parents(".js-v2-sitemap-menu-child-sub").css("max-height",i+"px")})},v2_setFloatMenuStatus:function(){this.isTab&&window.matchMedia("(max-width: 1199px)").matches&&-1===["member","search"].indexOf(this.isTab)&&this.menuTabFunction().closeTab()},v2_openSitemapBody:function(){this.moSiteMap = !0;},v2_closeSitemapBody:function(){this.moSiteMap = !1;},v2_setHeaderScroll:function(t){var e = $(window).scrollTop();if(e>60){this.v2_headerClass.down = !0}else{this.v2_headerClass.down = !1}}}});